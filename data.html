<div class="card-block content">
    In this tutorial, we'll learn how we can use Docker and Compose to develop and run Laravel 6 applications locally. 
    <p>Following this tutorial you'll learn:</p><ul><li>What's <a href="https://morioh.com/p/21e3236f275d" target="_blank">Docker</a> and <a href="https://morioh.com/p/2c7fc7f33211" target="_blank">Docker-compose</a>,</li><li>How to install Docker and Docker-Compose,</li><li>How to use Docker to install and run <a href="https://morioh.com/p/e6c5ca524215" target="_blank">Laravel 6 applications</a>.</li></ul><p>Docker is a container tool that allows developers and organizations to build, run and deploy applications using containers.</p><p><a href="https://morioh.com/p/c310f568c20d" target="_blank">Containers</a>&nbsp;are standalone images that allow developers to package applications with their dependencies. They share the kernel and resources of the system where they are running and they provide isolated environments for applications.</p><p>Docker makes use of&nbsp;<code><a href="https://morioh.com/p/544a7cbf0be5" target="_blank">Dockerfile</a></code>&nbsp;files to define and describe the parts and dependencies used by an application and also commands to run in order to install the dependences and start the application.</p><h2><strong>Installing Docker</strong></h2><p>start by installing Docker for your type of operating system by following one of these official guides:</p><ul><li><a href="https://docs.docker.com/engine/installation/linux/ubuntu/" target="_blank"><strong>Ubuntu</strong></a></li><li><a href="https://docs.docker.com/docker-for-windows/install/" target="_blank"><strong>Windows</strong></a></li><li><a href="https://docs.docker.com/docker-for-mac/install/" target="_blank"><strong>MacOS</strong></a></li></ul><h2><strong>Docker-Compose</strong></h2><p>The&nbsp;<a href="https://docs.docker.com/compose/overview/" target="_blank">official documentation</a>&nbsp;describes docker-compose as:</p><blockquote><em>A tool for defining and running multi-container Docker applications. With Compose, you use a YAML file to configure your application’s services. Then, with a single command, you create and start all the services from your configuration. To learn more about all the features of Compose, see&nbsp;</em><a href="https://docs.docker.com/compose/overview/#features" target="_blank"><em>the list of features</em></a><em>.</em></blockquote><p>Using docker-compose involves three easy steps:</p><p>1.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;First, you need to define/describe your app environment with a&nbsp;<code>Dockerfile</code>&nbsp;so you can reproduce it anywhere.</p><p>2.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Second, you need to create&nbsp;<code>docker-compose.yml</code>&nbsp;file and define the services required for running your application so you can run them in multi containers.</p><p>3.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finally you just need to run&nbsp;<code>docker-compose up</code>&nbsp;and Compose will start all the services for your application</p><h2><strong>Creating a Laravel 6 Project</strong></h2><p>Let's create a <a href="https://morioh.com/p/6970c93d36af" target="_blank">Laravel 6</a> project and then see how we can dockerize it using <a href="https://morioh.com/p/19448e6ce0cd" target="_blank"><strong>Docker</strong></a>.</p><p>We have different ways to create Laravel projects: Using Composer (<a href="https://morioh.com/p/a06f4f365b59" target="_blank">PHP</a> package manager), cloning from GitHub or downloading using cURL.</p><h3>Using Composer</h3><p>If you have Composer installed on your system then you can simply use the following command to create a Laravel project:</p><pre class="ql-syntax" spellcheck="false">composer create-project --prefer-dist laravel/laravel laravelproject
</pre><h3>Using GitHub Repository</h3><p>Alternatively if you don't want to install Composer in your system, you can also clone Laravel from GitHub using:</p><pre class="ql-syntax" spellcheck="false">git clone https://github.com/laravel/laravel.git laravelproject
</pre><h3>Installing the Project Dependencies</h3><p>Now, let's install the project's dependencies. If you have Composer installed, simply run the following command from within your project's root folder:</p><pre class="ql-syntax" spellcheck="false">composer install 
</pre><p>If you don't have Composer installed on your system. You can also use Docker with the official&nbsp;<a href="https://hub.docker.com/r/library/composer/" target="_blank">composer</a>&nbsp;image to install dependencies by running the following command from the project's root folder:</p><pre class="ql-syntax" spellcheck="false">docker run --rm -v $(pwd):/app composer/composer install
</pre><p>The&nbsp;<code>--rm</code>&nbsp;switch tells Docker to automatically clean up and remove the container after doing the task and exiting.</p><p>This is what the&nbsp;<a href="https://docs.docker.com/v1.7/reference/run/" target="_blank">docs</a>&nbsp;says about that:</p><blockquote><em>By default a container’s file system persists even after the container exits. This makes debugging a lot easier (since you can inspect the final state) and you retain all your data by default. But if you are running short-term&nbsp;</em><strong><em>foreground</em></strong><em>&nbsp;processes, these container file systems can really pile up. If instead you’d like Docker to&nbsp;</em><strong><em>automatically clean up the container and remove the file system when the container exits</em></strong><em>, you can add the&nbsp;</em><code><em>--rm</em></code><em>&nbsp;flag:</em></blockquote><p>The command:&nbsp;<code>-v $(pwd):/app</code>&nbsp;instructs Docker to mount the current directory on the host system retrieved using&nbsp;<code>$(pwd)</code>&nbsp;to&nbsp;<code>/app</code>&nbsp;in the container . What&nbsp;<code>app</code>? Simply because the composer tool in the container will look for a&nbsp;<code>composer.json</code>&nbsp;file in this folder.</p><p>After finishing the installation, either way, you'll find a&nbsp;<code>vendor</code>&nbsp;folder with all dependencies inside your Laravel project.</p><h2><strong>Creating a Dockerfile</strong></h2><p>Now, after installing Docker and Docker-compose and creating the laravel project let's create a&nbsp;<code>Dockerfile</code>&nbsp;to define our environmenet. Create a new&nbsp;<code>Dockerfile</code>&nbsp;file in the application directory and start by adding the first command:</p><pre class="ql-syntax" spellcheck="false">FROM php:7.2.2-fpm
</pre><p>This tells Docker to download and use the&nbsp;<code>php:7.2.2-fpm</code>&nbsp;image.</p><p>Next add:</p><pre class="ql-syntax" spellcheck="false">RUN apt-get update -y &amp;&amp; apt-get install -y libmcrypt-dev openssl
RUN docker-php-ext-install pdo mcrypt mbstring
</pre><p>This run&nbsp;<code>apt-get</code>&nbsp;to install the dependencies and extensions required by Laravel.</p><p>If you want to install Composer you can also add this command:</p><pre class="ql-syntax" spellcheck="false">RUN apt-get -y curl
RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
</pre><p>Now, add:</p><pre class="ql-syntax" spellcheck="false">WORKDIR /app
COPY . /app
</pre><p>This tells Docker to set the working directory in the container to&nbsp;<code>/app</code>&nbsp;and copy the files (Laravel project) in our current folder (in our system host) to the&nbsp;<code>/app</code>&nbsp;folder in the container.</p><p>If you didn't install the dependencies using the previous methods you can install them using:</p><pre class="ql-syntax" spellcheck="false">RUN composer install
</pre><p>Now, let's run the&nbsp;<code>artisan serve</code>&nbsp;command using the&nbsp;<code>CMD</code>&nbsp;command:</p><pre class="ql-syntax" spellcheck="false">CMD php artisan serve --host=0.0.0.0 --port=8000
</pre><p>This will serve the Laravel project from the port&nbsp;<code>8000</code>.</p><p>Finally, you need to expose the port&nbsp;<code>8000</code>&nbsp;from the container using:</p><pre class="ql-syntax" spellcheck="false">EXPOSE 8000
</pre><p>This is the complete Dockerfile:</p><pre class="ql-syntax" spellcheck="false">FROM php:7.2.2-fpm
RUN apt-get update -y &amp;&amp; apt-get install -y libmcrypt-dev openssl
RUN docker-php-ext-install pdo mcrypt mbstring
RUN curl -sS https://getcomposer.org/installer | php -- --install-dir=/usr/local/bin --filename=composer
RUN docker-php-ext-install pdo mcrypt mbstring
WORKDIR /app
COPY . /app
RUN composer install

CMD php artisan serve --host=0.0.0.0 --port=8000
EXPOSE 8000
</pre><h2><strong>Building the Docker Image</strong></h2><p>After creating the&nbsp;<code>Dockerfile</code>, you are ready to create the actual <a href="https://morioh.com/p/4e215b4c64de" target="_blank"><strong>Docker image</strong></a>. From your terminal, navigate to the root folder of your project and run:</p><pre class="ql-syntax" spellcheck="false">docker build -t my-laravel-image .
</pre><p>Using the&nbsp;<code>-t</code>&nbsp;switch we can specify the tag/name of the Docker image. For the dot means the current folder will be used as the context for the image to be built. Remember the&nbsp;<code>COPY</code>&nbsp;command in the&nbsp;<code>Dockerfile</code>? its source folder is this folder so we can copy the files from our project to the container file-system.</p><h2><strong>Running the Docker Image Using Docker</strong></h2><p>After building the Docker image (<code>my-laravel-image</code>) you can now run it using:</p><pre class="ql-syntax" spellcheck="false">docker run -p 8000:8000 my-laravel-image
</pre><p>You can now access your application from your browser at&nbsp;<code><a href="http://localhost:8000/" target="_blank">http://localhost:8000</a></code>.</p><h2><strong>Running the Docker Image Using Docker-compose</strong></h2><p>Docker-compose is more useful to build multi containers for the same application but it can also used to run a single Docker image. So first, create a&nbsp;<code>docker-compose.yml</code>&nbsp;file in the root folder of your project and add the following content:</p><pre class="ql-syntax" spellcheck="false">web:
image: my-laravel-image
ports:
- 8000:8000
volumes:
- ./:/app
</pre><p>We are defining a volume using&nbsp;<code>./:/var/www</code>&nbsp;which simply mount our current directory&nbsp;<code>./</code>&nbsp;in the host system to&nbsp;<code>/app</code>&nbsp;in the container. This will allow you to work on the source code in your project's folder and changes will be reflected in the container file-system (in our case&nbsp;<code>/app</code>) without executing any other commands.</p><h2><strong>Conclusion</strong></h2><p>In this tutorial, we've seen how to use Docker to create a development environment with Laravel 6. We've seen how to use both Docker and docker-compose to run our Laravel 6 application in an isolated container.</p><p class="ql-align-center"><em>Originally published&nbsp;</em>&nbsp;<em>at&nbsp;</em><a href="https://www.techiediaries.com/docker-compose-laravel/" target="_blank">techiediaries.com</a> on 06 Sep 2019</p><p>=========================</p><p>Thanks for reading :heart: If you liked this post, share it with all of your programming buddies! Follow me on&nbsp;<a href="https://www.facebook.com/laravel4u%22%22" target="_blank"><strong>Facebook</strong></a>&nbsp;|&nbsp;<a href="https://twitter.com/codek_tv" target="_blank"><strong>Twitter</strong></a></p><p>☞ <a href="https://morioh.com/p/973852a137a1/how-to-set-up-laravel-nginx-and-mysql-with-docker-compose" target="_blank">How To Set Up Laravel, Nginx, and MySQL with Docker Compose</a></p><p>☞ <a href="https://morioh.com/p/4ad34cbafa0f/deploying-a-laravel-app-in-kubernetes-on-google-cloud" target="_blank">Deploying a Laravel app in Kubernetes on Google Cloud</a></p><p>☞ <a href="https://morioh.com/p/2c7fc7f33211/docker-basics-docker-compose" target="_blank">Docker Basics: Docker Compose</a></p><p>☞ <a href="https://morioh.com/p/e6c5ca524215" target="_blank">Laravel 6 CRUD Application Tutorial</a></p><p>☞ <a href="https://morioh.com/p/0d42fcf826b2" target="_blank">Laravel 6 Image Upload Tutorial</a></p><p>☞ <a href="https://morioh.com/p/29e9bef35265" target="_blank">How to use form validation in Laravel 6</a></p><p><br></p><p><br></p>

    <h3>Suggest:</h3>

    <h2><a href="https://morioh.com/p/bwvm5lJasxsM">Here are 380 Ivy League courses you can take online right now for free</a></h2>
    <h2><a href="https://morioh.com/p/eMeXavrWFaT2">Remove image from Browser Cache when Image changes using Asp.Net C# and Vb.Net</a></h2>
    <h2><a href="https://morioh.com/p/eN1FTbc8KrNJ">How to check if Checkbox is Checked or not using Plain JavaScript</a></h2>
    <h2><a href="https://morioh.com/p/bBU7oZKtM15G">A Beginner Guide To Node.js (Basic Introduction To Node.js) </a></h2>
    <h2><a href="https://morioh.com/p/DQT5dtwP8T14">Java Archives - Code-Adda</a></h2>
    <h2><a href="https://morioh.com/p/9QqB3XWS12vo"> What is Docker, and why is it so popular? </a></h2>
</div>